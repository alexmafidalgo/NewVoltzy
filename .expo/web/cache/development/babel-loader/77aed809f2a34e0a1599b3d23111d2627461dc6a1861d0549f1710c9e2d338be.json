{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { BASE_URL, ENDPOINTS } from \"./config\";\nfunction request(_x, _x2) {\n  return _request.apply(this, arguments);\n}\nfunction _request() {\n  _request = _asyncToGenerator(function* (path, body) {\n    var res = yield fetch(\"\" + BASE_URL + path, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n    var text = yield res.text();\n    var data = null;\n    try {\n      data = text ? JSON.parse(text) : null;\n    } catch (e) {\n      data = {\n        message: text\n      };\n    }\n    if (!res.ok) {\n      var message = data && data.message ? data.message : res.statusText;\n      throw new Error(message || 'Request failed');\n    }\n    return data;\n  });\n  return _request.apply(this, arguments);\n}\nexport function signUp(_x3) {\n  return _signUp.apply(this, arguments);\n}\nfunction _signUp() {\n  _signUp = _asyncToGenerator(function* (payload) {\n    return yield request(ENDPOINTS.SIGN_UP, payload);\n  });\n  return _signUp.apply(this, arguments);\n}\nexport function signIn(_x4, _x5) {\n  return _signIn.apply(this, arguments);\n}\nfunction _signIn() {\n  _signIn = _asyncToGenerator(function* (identifier, password) {\n    return yield request(ENDPOINTS.SIGN_IN, {\n      identifier: identifier,\n      password: password\n    });\n  });\n  return _signIn.apply(this, arguments);\n}\nexport function signOut() {\n  return _signOut.apply(this, arguments);\n}\nfunction _signOut() {\n  _signOut = _asyncToGenerator(function* () {\n    return Promise.resolve();\n  });\n  return _signOut.apply(this, arguments);\n}\nexport default {\n  signUp: signUp,\n  signIn: signIn,\n  signOut: signOut\n};","map":{"version":3,"names":["BASE_URL","ENDPOINTS","request","_x","_x2","_request","apply","arguments","_asyncToGenerator","path","body","res","fetch","method","headers","JSON","stringify","text","data","parse","e","message","ok","statusText","Error","signUp","_x3","_signUp","payload","SIGN_UP","signIn","_x4","_x5","_signIn","identifier","password","SIGN_IN","signOut","_signOut","Promise","resolve"],"sources":["C:/Users/alexm/Documents/Ensino superior/Ano3 Semestre1/Computação Móvel e Ubíqua/NewVoltzy/src/backend/auth.ts"],"sourcesContent":["import { BASE_URL, ENDPOINTS } from './config';\r\n\r\ntype SignUpData = {\r\n  name: string;\r\n  username: string;\r\n  email: string;\r\n  password: string;\r\n};\r\n\r\nasync function request(path: string, body: any) {\r\n  const res = await fetch(`${BASE_URL}${path}`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(body)\r\n  });\r\n\r\n  const text = await res.text();\r\n  let data: any = null;\r\n  try { data = text ? JSON.parse(text) : null; } catch (e) { data = { message: text }; }\r\n\r\n  if (!res.ok) {\r\n    const message = data && data.message ? data.message : res.statusText;\r\n    throw new Error(message || 'Request failed');\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function signUp(payload: SignUpData) {\r\n  return await request(ENDPOINTS.SIGN_UP, payload);\r\n}\r\n\r\nexport async function signIn(identifier: string, password: string) {\r\n  // Send generic identifier field; backend decides if it's email or username\r\n  return await request(ENDPOINTS.SIGN_IN, { identifier, password });\r\n}\r\n\r\nexport async function signOut() {\r\n  // If your backend supports server-side signout/revocation, call it here.\r\n  return Promise.resolve();\r\n}\r\n\r\nexport default { signUp, signIn, signOut };\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS;AAAmB,SAShCC,OAAOA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,QAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,SAAA;EAAAA,QAAA,GAAAG,iBAAA,CAAtB,WAAuBC,IAAY,EAAEC,IAAS,EAAE;IAC9C,IAAMC,GAAG,SAASC,KAAK,MAAIZ,QAAQ,GAAGS,IAAI,EAAI;MAC5CI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CJ,IAAI,EAAEK,IAAI,CAACC,SAAS,CAACN,IAAI;IAC3B,CAAC,CAAC;IAEF,IAAMO,IAAI,SAASN,GAAG,CAACM,IAAI,CAAC,CAAC;IAC7B,IAAIC,IAAS,GAAG,IAAI;IACpB,IAAI;MAAEA,IAAI,GAAGD,IAAI,GAAGF,IAAI,CAACI,KAAK,CAACF,IAAI,CAAC,GAAG,IAAI;IAAE,CAAC,CAAC,OAAOG,CAAC,EAAE;MAAEF,IAAI,GAAG;QAAEG,OAAO,EAAEJ;MAAK,CAAC;IAAE;IAErF,IAAI,CAACN,GAAG,CAACW,EAAE,EAAE;MACX,IAAMD,OAAO,GAAGH,IAAI,IAAIA,IAAI,CAACG,OAAO,GAAGH,IAAI,CAACG,OAAO,GAAGV,GAAG,CAACY,UAAU;MACpE,MAAM,IAAIC,KAAK,CAACH,OAAO,IAAI,gBAAgB,CAAC;IAC9C;IAEA,OAAOH,IAAI;EACb,CAAC;EAAA,OAAAb,QAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBkB,MAAMA,CAAAC,GAAA;EAAA,OAAAC,OAAA,CAAArB,KAAA,OAAAC,SAAA;AAAA;AAE3B,SAAAoB,QAAA;EAAAA,OAAA,GAAAnB,iBAAA,CAFM,WAAsBoB,OAAmB,EAAE;IAChD,aAAa1B,OAAO,CAACD,SAAS,CAAC4B,OAAO,EAAED,OAAO,CAAC;EAClD,CAAC;EAAA,OAAAD,OAAA,CAAArB,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBuB,MAAMA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,OAAA,CAAA3B,KAAA,OAAAC,SAAA;AAAA;AAG3B,SAAA0B,QAAA;EAAAA,OAAA,GAAAzB,iBAAA,CAHM,WAAsB0B,UAAkB,EAAEC,QAAgB,EAAE;IAEjE,aAAajC,OAAO,CAACD,SAAS,CAACmC,OAAO,EAAE;MAAEF,UAAU,EAAVA,UAAU;MAAEC,QAAQ,EAARA;IAAS,CAAC,CAAC;EACnE,CAAC;EAAA,OAAAF,OAAA,CAAA3B,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsB8B,OAAOA,CAAA;EAAA,OAAAC,QAAA,CAAAhC,KAAA,OAAAC,SAAA;AAAA;AAG5B,SAAA+B,SAAA;EAAAA,QAAA,GAAA9B,iBAAA,CAHM,aAAyB;IAE9B,OAAO+B,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B,CAAC;EAAA,OAAAF,QAAA,CAAAhC,KAAA,OAAAC,SAAA;AAAA;AAED,eAAe;EAAEkB,MAAM,EAANA,MAAM;EAAEK,MAAM,EAANA,MAAM;EAAEO,OAAO,EAAPA;AAAQ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}